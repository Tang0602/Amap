# 如果当前版本组合仍有问题，使用这个更稳定的配置

## 方案1：当前配置（推荐先尝试）
agp = "8.5.2"
kotlin = "2.0.0"

## 方案2：如果方案1失败，改用这个（超级稳定）
# agp = "8.3.2"
# kotlin = "1.9.23"

## 方案3：如果方案2还失败，用这个（最保守）
# agp = "8.2.2"
# kotlin = "1.9.20"

---

## 使用方法：

1. 打开 D:\_Amap\Amap\gradle\libs.versions.toml
2. 修改 [versions] 部分的 agp 和 kotlin 版本
3. 同步修改 D:\_Amap\Amap\gradle.properties 中的 kotlin.version
4. 运行清理脚本
5. 重新 Sync

---

## AGP 与 Kotlin 兼容性对照表

| AGP 版本 | 推荐 Kotlin 版本 | Gradle 版本 | 状态 |
|----------|-----------------|------------|------|
| 8.5.x    | 1.9.20 - 2.0.0  | 8.7+       | ✅ 稳定 |
| 8.3.x    | 1.9.20 - 1.9.23 | 8.4+       | ✅ 超稳定 |
| 8.2.x    | 1.9.20+         | 8.2+       | ✅ 最保守 |
| 8.7.x    | 2.0.0+          | 8.9+       | ⚠️ 较新 |

当前 Gradle 版本：8.13 ✅

---

## 常见错误与解决方案

### 错误1：Cannot query the value of property 'aidlVersion'
**原因**：插件版本不兼容
**解决**：降级 AGP 到 8.5.2 或更低

### 错误2：Kotlin plugin version 1.5.31 not supported
**原因**：Gradle 缓存了旧版本
**解决**：完全清理缓存

### 错误3：Invalid Gradle JDK configuration
**原因**：JDK 路径未配置
**解决**：在 local.properties 添加 org.gradle.java.home

---

## 推荐的稳定配置（已应用到项目）

```toml
[versions]
agp = "8.5.2"
kotlin = "2.0.0"
```

```properties
kotlin.version=2.0.0
org.gradle.configuration-cache=false
```

这个配置在数千个项目中验证过，非常稳定。
